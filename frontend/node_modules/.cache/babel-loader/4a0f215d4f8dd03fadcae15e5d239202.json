{"remainingRequest":"D:\\test\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\test\\frontend\\src\\router\\index.js","dependencies":[{"path":"D:\\test\\frontend\\src\\router\\index.js","mtime":1747376885941},{"path":"D:\\test\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747724956321},{"path":"D:\\test\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1747724958365}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgVXNlck1hbmFnZW1lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VyTWFuYWdlbWVudC52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbi52dWUnOwppbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvTGF5b3V0LnZ1ZSc7CmltcG9ydCBTZXJ2ZXJMaXN0IGZyb20gJy4uL2NvbXBvbmVudHMvU2VydmVyTGlzdC52dWUnOwppbXBvcnQgQ2F0ZWdvcnlNYW5hZ2VtZW50IGZyb20gJy4uL2NvbXBvbmVudHMvQ2F0ZWdvcnlNYW5hZ2VtZW50LnZ1ZSc7CmltcG9ydCBBdWRpdExvZ3MgZnJvbSAnLi4vY29tcG9uZW50cy9BdWRpdExvZ3MudnVlJzsKaW1wb3J0IENyZWRlbnRpYWxNYW5hZ2VtZW50IGZyb20gJy4uL2NvbXBvbmVudHMvQ3JlZGVudGlhbE1hbmFnZW1lbnQudnVlJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwpjb25zdCByb3V0ZXMgPSBbewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBMb2dpbgp9LCB7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogTGF5b3V0LAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogdHJ1ZQogIH0sCiAgY2hpbGRyZW46IFt7CiAgICBwYXRoOiAnJywKICAgIC8vIOm7mOiupOi3r+eUseaMh+WQkeacjeWKoeWZqOWIl+ihqAogICAgbmFtZTogJ0hvbWUnLAogICAgY29tcG9uZW50OiBTZXJ2ZXJMaXN0CiAgfSwgewogICAgcGF0aDogJ3VzZXJzJywKICAgIG5hbWU6ICdVc2VyTWFuYWdlbWVudCcsCiAgICBjb21wb25lbnQ6IFVzZXJNYW5hZ2VtZW50LAogICAgbWV0YTogewogICAgICByZXF1aXJlc0F1dGg6IHRydWUsCiAgICAgIHJlcXVpcmVzQWRtaW46IHRydWUKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnc3lzdGVtL2NhdGVnb3JpZXMnLAogICAgbmFtZTogJ0NhdGVnb3J5TWFuYWdlbWVudCcsCiAgICBjb21wb25lbnQ6IENhdGVnb3J5TWFuYWdlbWVudCwKICAgIG1ldGE6IHsKICAgICAgcmVxdWlyZXNBdXRoOiB0cnVlLAogICAgICByZXF1aXJlc0FkbWluOiB0cnVlCiAgICB9CiAgfSwgewogICAgcGF0aDogJ3N5c3RlbS9hdWRpdC1sb2dzJywKICAgIG5hbWU6ICdBdWRpdExvZ3MnLAogICAgY29tcG9uZW50OiBBdWRpdExvZ3MsCiAgICBtZXRhOiB7CiAgICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSwKICAgICAgcmVxdWlyZXNBZG1pbjogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICdzeXN0ZW0vY3JlZGVudGlhbHMnLAogICAgbmFtZTogJ0NyZWRlbnRpYWxNYW5hZ2VtZW50JywKICAgIGNvbXBvbmVudDogQ3JlZGVudGlhbE1hbmFnZW1lbnQsCiAgICBtZXRhOiB7CiAgICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSwKICAgICAgcmVxdWlyZXNBZG1pbjogdHJ1ZQogICAgfQogIH1dCn1dOwpjb25zdCByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzCn0pOwoKLy8g6Lev55Sx5a6I5Y2rCnJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSwgbmV4dCkgPT4gewogIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogIGNvbnN0IHVzZXIgPSBzdG9yZS5zdGF0ZS51c2VyOwogIGNvbnN0IGlzQWRtaW4gPSB1c2VyICYmIHVzZXIuaXNfYWRtaW47CgogIC8vIOWmguaenOaYr+eZu+W9leeKtuaAge+8jOmHjee9ruS4jea0u+WKqOiuoeaXtuWZqAogIGlmIChpc0F1dGhlbnRpY2F0ZWQgJiYgc3RvcmUuc3RhdGUuaW5hY3Rpdml0eVRpbWVyKSB7CiAgICBjbGVhclRpbWVvdXQoc3RvcmUuc3RhdGUuaW5hY3Rpdml0eVRpbWVyKTsKICAgIHN0b3JlLmRpc3BhdGNoKCdzdGFydEluYWN0aXZpdHlUaW1lcicpOwogIH0KICBpZiAodG8ubWF0Y2hlZC5zb21lKHJlY29yZCA9PiByZWNvcmQubWV0YS5yZXF1aXJlc0F1dGgpKSB7CiAgICBpZiAoIWlzQXV0aGVudGljYXRlZCkgewogICAgICBuZXh0KCcvbG9naW4nKTsKICAgIH0gZWxzZSBpZiAodG8ubWF0Y2hlZC5zb21lKHJlY29yZCA9PiByZWNvcmQubWV0YS5yZXF1aXJlc0FkbWluKSAmJiAhaXNBZG1pbikgewogICAgICBuZXh0KCcvJyk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"names":["Vue","VueRouter","UserManagement","Login","Layout","ServerList","CategoryManagement","AuditLogs","CredentialManagement","store","use","routes","path","name","component","meta","requiresAuth","children","requiresAdmin","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","isAuthenticated","localStorage","getItem","user","state","isAdmin","is_admin","inactivityTimer","clearTimeout","dispatch","matched","some","record"],"sources":["D:/test/frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport UserManagement from '../components/UserManagement.vue'\nimport Login from '../components/Login.vue'\nimport Layout from '../components/Layout.vue'\nimport ServerList from '../components/ServerList.vue'\nimport CategoryManagement from '../components/CategoryManagement.vue'\nimport AuditLogs from '../components/AuditLogs.vue'\nimport CredentialManagement from '../components/CredentialManagement.vue'\nimport store from '../store'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  },\n\n  {\n    path: '/',\n    component: Layout,\n    meta: { requiresAuth: true },\n    children: [\n      {\n        path: '',  // 默认路由指向服务器列表\n        name: 'Home',\n        component: ServerList\n      },\n      {\n        path: 'users',\n        name: 'UserManagement',\n        component: UserManagement,\n        meta: { requiresAuth: true, requiresAdmin: true }\n      },\n      {\n        path: 'system/categories',\n        name: 'CategoryManagement',\n        component: CategoryManagement,\n        meta: { requiresAuth: true, requiresAdmin: true }\n      },\n      {\n        path: 'system/audit-logs',\n        name: 'AuditLogs',\n        component: AuditLogs,\n        meta: { requiresAuth: true, requiresAdmin: true }\n      },\n      {\n        path: 'system/credentials',\n        name: 'CredentialManagement',\n        component: CredentialManagement,\n        meta: { requiresAuth: true, requiresAdmin: true }\n      }\n    ]\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n// 路由守卫\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = localStorage.getItem('token')\n  const user = store.state.user\n  const isAdmin = user && user.is_admin\n\n  // 如果是登录状态，重置不活动计时器\n  if (isAuthenticated && store.state.inactivityTimer) {\n    clearTimeout(store.state.inactivityTimer);\n    store.dispatch('startInactivityTimer');\n  }\n\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (!isAuthenticated) {\n      next('/login')\n    } else if (to.matched.some(record => record.meta.requiresAdmin) && !isAdmin) {\n      next('/')\n    } else {\n      next()\n    }\n  } else {\n    next()\n  }\n})\n\n\nexport default router"],"mappings":"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","ignoreList":[]}]}