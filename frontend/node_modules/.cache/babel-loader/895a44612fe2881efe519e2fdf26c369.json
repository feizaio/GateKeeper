{"remainingRequest":"E:\\github\\GateKeeper\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\github\\GateKeeper\\frontend\\src\\router\\index.js","dependencies":[{"path":"E:\\github\\GateKeeper\\frontend\\src\\router\\index.js","mtime":1742449144585},{"path":"E:\\github\\GateKeeper\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742449391247},{"path":"E:\\github\\GateKeeper\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1742449393880}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgVXNlck1hbmFnZW1lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VyTWFuYWdlbWVudC52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbi52dWUnOwppbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvTGF5b3V0LnZ1ZSc7CmltcG9ydCBTZXJ2ZXJMaXN0IGZyb20gJy4uL2NvbXBvbmVudHMvU2VydmVyTGlzdC52dWUnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CmNvbnN0IHJvdXRlcyA9IFt7CiAgcGF0aDogJy9sb2dpbicsCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6IExvZ2luCn0sIHsKICBwYXRoOiAnLycsCiAgY29tcG9uZW50OiBMYXlvdXQsCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgfSwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICcnLAogICAgLy8g6buY6K6k6Lev55Sx5oyH5ZCR5pyN5Yqh5Zmo5YiX6KGoCiAgICBuYW1lOiAnSG9tZScsCiAgICBjb21wb25lbnQ6IFNlcnZlckxpc3QKICB9LCB7CiAgICBwYXRoOiAndXNlcnMnLAogICAgbmFtZTogJ1VzZXJNYW5hZ2VtZW50JywKICAgIGNvbXBvbmVudDogVXNlck1hbmFnZW1lbnQKICB9XQp9XTsKY29uc3Qgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlcwp9KTsKCi8vIOi3r+eUseWuiOWNqwpyb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHsKICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogIGlmICghdG9rZW4gJiYgdG8ucGF0aCAhPT0gJy9sb2dpbicpIHsKICAgIG5leHQoJy9sb2dpbicpOyAvLyDlpoLmnpzmsqHmnIkgdG9rZW4g5LiU55uu5qCH6Lev5b6E5LiN5piv55m75b2V6aG16Z2i77yM5YiZ6Lez6L2s5Yiw55m75b2V6aG16Z2iCiAgfSBlbHNlIHsKICAgIG5leHQoKTsgLy8g5pS+6KGMCiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"names":["Vue","VueRouter","UserManagement","Login","Layout","ServerList","store","use","routes","path","name","component","meta","requiresAuth","children","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","token","localStorage","getItem"],"sources":["E:/github/GateKeeper/frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport UserManagement from '../components/UserManagement.vue'\r\nimport Login from '../components/Login.vue'\r\nimport Layout from '../components/Layout.vue'\r\nimport ServerList from '../components/ServerList.vue'\r\nimport store from '../store'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: Login\r\n  },\r\n  {\r\n    path: '/',\r\n    component: Layout,\r\n    meta: { requiresAuth: true },\r\n    children: [\r\n      {\r\n        path: '',  // 默认路由指向服务器列表\r\n        name: 'Home',\r\n        component: ServerList\r\n      },\r\n      {\r\n        path: 'users',\r\n        name: 'UserManagement',\r\n        component: UserManagement\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\n// 路由守卫\r\nrouter.beforeEach((to, from, next) => {\r\n  const token = localStorage.getItem('token');\r\n  if (!token && to.path !== '/login') {\r\n    next('/login');  // 如果没有 token 且目标路径不是登录页面，则跳转到登录页面\r\n  } else {\r\n    next();  // 放行\r\n  }\r\n});\r\n\r\n\r\nexport default router"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,cAAc,MAAM,kCAAkC;AAC7D,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,OAAOC,MAAM,MAAM,0BAA0B;AAC7C,OAAOC,UAAU,MAAM,8BAA8B;AACrD,OAAOC,KAAK,MAAM,UAAU;AAE5BN,GAAG,CAACO,GAAG,CAACN,SAAS,CAAC;AAElB,MAAMO,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAER;AACb,CAAC,EACD;EACEM,IAAI,EAAE,GAAG;EACTE,SAAS,EAAEP,MAAM;EACjBQ,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK,CAAC;EAC5BC,QAAQ,EAAE,CACR;IACEL,IAAI,EAAE,EAAE;IAAG;IACXC,IAAI,EAAE,MAAM;IACZC,SAAS,EAAEN;EACb,CAAC,EACD;IACEI,IAAI,EAAE,OAAO;IACbC,IAAI,EAAE,gBAAgB;IACtBC,SAAS,EAAET;EACb,CAAC;AAEL,CAAC,CACF;AAED,MAAMa,MAAM,GAAG,IAAId,SAAS,CAAC;EAC3Be,IAAI,EAAE,SAAS;EACfC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BZ;AACF,CAAC,CAAC;;AAEF;AACAO,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,IAAIH,EAAE,CAACb,IAAI,KAAK,QAAQ,EAAE;IAClCe,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAE;EACnB,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC,CAAC,CAAE;EACX;AACF,CAAC,CAAC;AAGF,eAAeT,MAAM","ignoreList":[]}]}