{"remainingRequest":"E:\\yunwei\\1.0\\2.0\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\yunwei\\1.0\\2.0\\frontend\\src\\store\\index.js","dependencies":[{"path":"E:\\yunwei\\1.0\\2.0\\frontend\\src\\store\\index.js","mtime":1742797129879},{"path":"E:\\yunwei\\1.0\\2.0\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1740710845061},{"path":"E:\\yunwei\\1.0\\2.0\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1740710847398}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJycsCiAgICB1c2VyOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpIHx8IG51bGwsCiAgICBjbGllbnRJbmZvOiBudWxsLAogICAgY2xpZW50RGlhbG9nVmlzaWJsZTogZmFsc2UKICB9LAogIG11dGF0aW9uczogewogICAgc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsKICAgIH0sCiAgICBzZXRVc2VyKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTsKICAgIH0sCiAgICBjbGVhclVzZXJJbmZvKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTsKICAgIH0sCiAgICBTRVRfQ0xJRU5UX0lORk8oc3RhdGUsIGNsaWVudEluZm8pIHsKICAgICAgc3RhdGUuY2xpZW50SW5mbyA9IGNsaWVudEluZm87CiAgICB9LAogICAgU0VUX0NMSUVOVF9ESUFMT0dfVklTSUJMRShzdGF0ZSwgdmlzaWJsZSkgewogICAgICBzdGF0ZS5jbGllbnREaWFsb2dWaXNpYmxlID0gdmlzaWJsZTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGFzeW5jIGxvZ2luKHsKICAgICAgY29tbWl0CiAgICB9LCBjcmVkZW50aWFscykgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJy9hcGkvYXV0aC9sb2dpbicsIGNyZWRlbnRpYWxzKTsKICAgICAgY29uc3QgewogICAgICAgIHRva2VuLAogICAgICAgIHVzZXJuYW1lCiAgICAgIH0gPSByZXNwb25zZS5kYXRhOwogICAgICBjb21taXQoJ3NldFRva2VuJywgdG9rZW4pOwogICAgICBjb21taXQoJ3NldFVzZXInLCB7CiAgICAgICAgdXNlcm5hbWUKICAgICAgfSk7CgogICAgICAvLyDorr7nva7lhajlsYDor7fmsYLlpLQKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gOwogICAgfSwKICAgIGxvZ291dCh7CiAgICAgIGNvbW1pdAogICAgfSkgewogICAgICBjb21taXQoJ2NsZWFyVXNlckluZm8nKTsKICAgICAgZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ107CiAgICB9CiAgfQp9KTs="},{"version":3,"names":["Vue","Vuex","axios","use","Store","state","token","localStorage","getItem","user","JSON","parse","clientInfo","clientDialogVisible","mutations","setToken","setItem","setUser","stringify","clearUserInfo","removeItem","SET_CLIENT_INFO","SET_CLIENT_DIALOG_VISIBLE","visible","actions","login","commit","credentials","response","post","username","data","defaults","headers","common","logout"],"sources":["E:/yunwei/1.0/2.0/frontend/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    token: localStorage.getItem('token') || '',\r\n    user: JSON.parse(localStorage.getItem('user')) || null,\r\n    clientInfo: null,\r\n    clientDialogVisible: false\r\n  },\r\n  \r\n  mutations: {\r\n    setToken(state, token) {\r\n      state.token = token\r\n      localStorage.setItem('token', token)\r\n    },\r\n    \r\n    setUser(state, user) {\r\n      state.user = user\r\n      localStorage.setItem('user', JSON.stringify(user))\r\n    },\r\n    \r\n    clearUserInfo(state) {\r\n      state.token = ''\r\n      state.user = null\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('user')\r\n    },\r\n    \r\n    SET_CLIENT_INFO(state, clientInfo) {\r\n      state.clientInfo = clientInfo\r\n    },\r\n    \r\n    SET_CLIENT_DIALOG_VISIBLE(state, visible) {\r\n      state.clientDialogVisible = visible\r\n    }\r\n  },\r\n  \r\n  actions: {\r\n    async login({ commit }, credentials) {\r\n      const response = await axios.post('/api/auth/login', credentials)\r\n      const { token, username } = response.data\r\n      commit('setToken', token)\r\n      commit('setUser', { username })\r\n      \r\n      // 设置全局请求头\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`\r\n    },\r\n    \r\n    logout({ commit }) {\r\n      commit('clearUserInfo')\r\n      delete axios.defaults.headers.common['Authorization']\r\n    }\r\n  }\r\n}) "],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,MAAM,OAAO;AAEzBF,GAAG,CAACG,GAAG,CAACF,IAAI,CAAC;AAEb,eAAe,IAAIA,IAAI,CAACG,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;IAC1CC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI;IACtDI,UAAU,EAAE,IAAI;IAChBC,mBAAmB,EAAE;EACvB,CAAC;EAEDC,SAAS,EAAE;IACTC,QAAQA,CAACV,KAAK,EAAEC,KAAK,EAAE;MACrBD,KAAK,CAACC,KAAK,GAAGA,KAAK;MACnBC,YAAY,CAACS,OAAO,CAAC,OAAO,EAAEV,KAAK,CAAC;IACtC,CAAC;IAEDW,OAAOA,CAACZ,KAAK,EAAEI,IAAI,EAAE;MACnBJ,KAAK,CAACI,IAAI,GAAGA,IAAI;MACjBF,YAAY,CAACS,OAAO,CAAC,MAAM,EAAEN,IAAI,CAACQ,SAAS,CAACT,IAAI,CAAC,CAAC;IACpD,CAAC;IAEDU,aAAaA,CAACd,KAAK,EAAE;MACnBA,KAAK,CAACC,KAAK,GAAG,EAAE;MAChBD,KAAK,CAACI,IAAI,GAAG,IAAI;MACjBF,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;MAChCb,YAAY,CAACa,UAAU,CAAC,MAAM,CAAC;IACjC,CAAC;IAEDC,eAAeA,CAAChB,KAAK,EAAEO,UAAU,EAAE;MACjCP,KAAK,CAACO,UAAU,GAAGA,UAAU;IAC/B,CAAC;IAEDU,yBAAyBA,CAACjB,KAAK,EAAEkB,OAAO,EAAE;MACxClB,KAAK,CAACQ,mBAAmB,GAAGU,OAAO;IACrC;EACF,CAAC;EAEDC,OAAO,EAAE;IACP,MAAMC,KAAKA,CAAC;MAAEC;IAAO,CAAC,EAAEC,WAAW,EAAE;MACnC,MAAMC,QAAQ,GAAG,MAAM1B,KAAK,CAAC2B,IAAI,CAAC,iBAAiB,EAAEF,WAAW,CAAC;MACjE,MAAM;QAAErB,KAAK;QAAEwB;MAAS,CAAC,GAAGF,QAAQ,CAACG,IAAI;MACzCL,MAAM,CAAC,UAAU,EAAEpB,KAAK,CAAC;MACzBoB,MAAM,CAAC,SAAS,EAAE;QAAEI;MAAS,CAAC,CAAC;;MAE/B;MACA5B,KAAK,CAAC8B,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,UAAU5B,KAAK,EAAE;IACpE,CAAC;IAED6B,MAAMA,CAAC;MAAET;IAAO,CAAC,EAAE;MACjBA,MAAM,CAAC,eAAe,CAAC;MACvB,OAAOxB,KAAK,CAAC8B,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC;IACvD;EACF;AACF,CAAC,CAAC","ignoreList":[]}]}