{"remainingRequest":"D:\\gatekeeper\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\gatekeeper\\frontend\\src\\components\\TaskExecution.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\gatekeeper\\frontend\\src\\components\\TaskExecution.vue","mtime":1753233447565},{"path":"D:\\gatekeeper\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747724956321},{"path":"D:\\gatekeeper\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1747724958365},{"path":"D:\\gatekeeper\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747724956321},{"path":"D:\\gatekeeper\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1747724959585}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBpbyBmcm9tICdzb2NrZXQuaW8tY2xpZW50JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGFza0V4ZWN1dGlvbicsCiAgcHJvcHM6IHsKICAgIGlkOiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXhlY3V0aW9uOiB7fSwKICAgICAgdGFzazoge30sCiAgICAgIGxvZ0NvbnRlbnQ6ICcnLAogICAgICBsb2FkaW5nRXhlY3V0aW9uOiBmYWxzZSwKICAgICAgbG9hZGluZ0xvZzogZmFsc2UsCiAgICAgIGF1dG9TY3JvbGw6IHRydWUsCiAgICAgIHNvY2tldDogbnVsbCwKICAgICAgZXhlY3V0aW9uVXNlcjogJycsCiAgICAgIHJlZnJlc2hJbnRlcnZhbDogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYW5UZXJtaW5hdGUoKSB7CiAgICAgIHJldHVybiBbJ3BlbmRpbmcnLCAncnVubmluZyddLmluY2x1ZGVzKHRoaXMuZXhlY3V0aW9uLnN0YXR1cyk7CiAgICB9LAogICAgY3VycmVudFVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyIHx8IHt9OwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZEV4ZWN1dGlvbkRldGFpbHMoKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyDorr7nva7oh6rliqjliLfmlrAKICAgIHRoaXMucmVmcmVzaEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICBpZiAodGhpcy5jYW5UZXJtaW5hdGUpIHsKICAgICAgICB0aGlzLnJlZnJlc2hFeGVjdXRpb24oKTsKICAgICAgfQogICAgfSwgNTAwMCk7CiAgICAKICAgIC8vIOi/nuaOpVdlYlNvY2tldAogICAgdGhpcy5jb25uZWN0V2ViU29ja2V0KCk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgLy8g5riF6Zmk6Ieq5Yqo5Yi35pawCiAgICBpZiAodGhpcy5yZWZyZXNoSW50ZXJ2YWwpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlZnJlc2hJbnRlcnZhbCk7CiAgICB9CiAgICAKICAgIC8vIOaWreW8gFdlYlNvY2tldOi/nuaOpQogICAgaWYgKHRoaXMuc29ja2V0KSB7CiAgICAgIHRoaXMuc29ja2V0LmRpc2Nvbm5lY3QoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWKoOi9veaJp+ihjOivpuaDhQogICAgYXN5bmMgbG9hZEV4ZWN1dGlvbkRldGFpbHMoKSB7CiAgICAgIHRoaXMubG9hZGluZ0V4ZWN1dGlvbiA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgLy8g6I635Y+W5omn6KGM6K6w5b2VCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYC9hcGkvZXhlY3V0aW9ucy8ke3RoaXMuaWR9YCk7CiAgICAgICAgdGhpcy5leGVjdXRpb24gPSByZXNwb25zZS5kYXRhOwogICAgICAgIAogICAgICAgIC8vIOiOt+WPluS7u+WKoeivpuaDhQogICAgICAgIGNvbnN0IHRhc2tSZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgL2FwaS90YXNrcy8ke3RoaXMuZXhlY3V0aW9uLnRhc2tfaWR9YCk7CiAgICAgICAgdGhpcy50YXNrID0gdGFza1Jlc3BvbnNlLmRhdGE7CiAgICAgICAgCiAgICAgICAgLy8g6I635Y+W5omn6KGM55So5oi35L+h5oGvCiAgICAgICAgaWYgKHRoaXMuZXhlY3V0aW9uLnVzZXJfaWQpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHVzZXJSZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgL2FwaS91c2Vycy8ke3RoaXMuZXhlY3V0aW9uLnVzZXJfaWR9YCk7CiAgICAgICAgICAgIHRoaXMuZXhlY3V0aW9uVXNlciA9IHVzZXJSZXNwb25zZS5kYXRhLnVzZXJuYW1lOwogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W55So5oi35L+h5oGv5aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgICAgLy8g55u05o6l5pi+56S655So5oi3SUTvvIzkuI3mt7vliqDliY3nvIAKICAgICAgICAgICAgdGhpcy5leGVjdXRpb25Vc2VyID0gU3RyaW5nKHRoaXMuZXhlY3V0aW9uLnVzZXJfaWQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDliqDovb3ml6Xlv5cKICAgICAgICB0aGlzLmxvYWRMb2coKTsKICAgICAgICAKICAgICAgICB0aGlzLmxvYWRpbmdFeGVjdXRpb24gPSBmYWxzZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliqDovb3miafooYzor6bmg4XlpLHotKU6ICcgKyAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSAmJiBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yIHx8IGVycm9yLm1lc3NhZ2UpKTsKICAgICAgICB0aGlzLmxvYWRpbmdFeGVjdXRpb24gPSBmYWxzZTsKICAgICAgICAvLyDov5Tlm57ku7vliqHor6bmg4XpobUKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3N5c3RlbS90YXNrLWRldGFpbC8ke3RoaXMuZXhlY3V0aW9uLnRhc2tfaWR9YCk7CiAgICAgIH0KICAgIH0sCiAgICAKICAgIC8vIOWIt+aWsOaJp+ihjOeKtuaAgQogICAgYXN5bmMgcmVmcmVzaEV4ZWN1dGlvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgL2FwaS9leGVjdXRpb25zLyR7dGhpcy5pZH1gKTsKICAgICAgICB0aGlzLmV4ZWN1dGlvbiA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgCiAgICAgICAgLy8g5aaC5p6c5Lu75Yqh5bey57uP5a6M5oiQ77yM5riF6Zmk6Ieq5Yqo5Yi35pawCiAgICAgICAgaWYgKCF0aGlzLmNhblRlcm1pbmF0ZSAmJiB0aGlzLnJlZnJlc2hJbnRlcnZhbCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlZnJlc2hJbnRlcnZhbCk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIt+aWsOaJp+ihjOeKtuaAgeWksei0pTonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICAKICAgIC8vIOWKoOi9veaXpeW/lwogICAgYXN5bmMgbG9hZExvZygpIHsKICAgICAgdGhpcy5sb2FkaW5nTG9nID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgL2FwaS9leGVjdXRpb25zLyR7dGhpcy5pZH0vbG9nYCk7CiAgICAgICAgdGhpcy5sb2dDb250ZW50ID0gcmVzcG9uc2UuZGF0YS5sb2dfY29udGVudCB8fCAnJzsKICAgICAgICAKICAgICAgICAvLyDoh6rliqjmu5rliqjliLDlupXpg6gKICAgICAgICBpZiAodGhpcy5hdXRvU2Nyb2xsKSB7CiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20oKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB0aGlzLmxvYWRpbmdMb2cgPSBmYWxzZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliqDovb3ml6Xlv5flpLHotKU6ICcgKyAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSAmJiBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yIHx8IGVycm9yLm1lc3NhZ2UpKTsKICAgICAgICB0aGlzLmxvYWRpbmdMb2cgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIAogICAgLy8g5Yi35paw5pel5b+XCiAgICByZWZyZXNoTG9nKCkgewogICAgICB0aGlzLmxvYWRMb2coKTsKICAgIH0sCiAgICAKICAgIC8vIOe7iOatouaJp+ihjAogICAgYXN5bmMgdGVybWluYXRlRXhlY3V0aW9uKCkgewogICAgICB0cnkgewogICAgICAgIC8vIOaYvuekuuehruiupOWvueivneahhgogICAgICAgIGF3YWl0IHRoaXMuJGNvbmZpcm0oCiAgICAgICAgICAn56Gu5a6a6KaB57uI5q2i5q2k5Lu75Yqh5omn6KGM5ZCX77yf5aaC5p6c5pivSmVua2luc+S7u+WKoe+8jOWPr+iDvemcgOimgeS4gOS6m+aXtumXtOaJjeiDveWujOWFqOWBnOatouOAgicsCiAgICAgICAgICAn57uI5q2i5Lu75YqhJywKICAgICAgICAgIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrprnu4jmraInLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgICAKICAgICAgICAvLyDnlKjmiLfnoa7orqTlkI7vvIzlj5HpgIHnu4jmraLor7fmsYIKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYC9hcGkvZXhlY3V0aW9ucy8ke3RoaXMuaWR9L3Rlcm1pbmF0ZWApOwogICAgICAgIAogICAgICAgIC8vIOaYvuekuuWTjeW6lOa2iOaBrwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgJ+S7u+WKoeW3sue7iOatoicpOwogICAgICAgIAogICAgICAgIC8vIOWIt+aWsOaJp+ihjOeKtuaAgQogICAgICAgIHRoaXMucmVmcmVzaEV4ZWN1dGlvbigpOwogICAgICAgIAogICAgICAgIC8vIOWmguaenOacieitpuWRiuS/oeaBr++8jOaYvuekuumAmuefpQogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UgJiYgcmVzcG9uc2UuZGF0YS5tZXNzYWdlLmluY2x1ZGVzKCdKZW5raW5z5p6E5bu65Y+v6IO95LuN5Zyo6L+Q6KGMJykpIHsKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAn6K2m5ZGKJywKICAgICAgICAgICAgbWVzc2FnZTogJ0plbmtpbnPmnoTlu7rlj6/og73ml6Dms5Xlrozlhajnu4jmraLvvIzns7vnu5/lt7LlsJ3or5XmiYDmnInlj6/og73nmoTnu4jmraLmlrnms5XjgIInLAogICAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwMAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIC8vIOWmguaenOeUqOaIt+WPlua2iOS6huehruiupOWvueivneahhu+8jOS4jeaYvuekuumUmeivrwogICAgICAgIGlmIChlcnJvciA9PT0gJ2NhbmNlbCcgfHwgZXJyb3IudG9TdHJpbmcoKS5pbmNsdWRlcygnY2FuY2VsJykpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g5pi+56S66ZSZ6K+v5L+h5oGvCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign57uI5q2i5Lu75Yqh5aSx6LSlOiAnICsgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvciB8fCBlcnJvci5tZXNzYWdlKSk7CiAgICAgICAgCiAgICAgICAgLy8g5aaC5p6c5pivSmVua2luc+S7u+WKoe+8jOaYvuekuumineWkluaPkOekugogICAgICAgIGlmICh0aGlzLnRhc2sudGFza190eXBlID09PSAnamVua2lucycpIHsKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgICAgbWVzc2FnZTogJ+aCqOWPr+S7peWwneivleebtOaOpeWcqEplbmtpbnPnlYzpnaLkuK3nu4jmraLmraTmnoTlu7rjgIInLAogICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwMAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgCiAgICAvLyDov57mjqVXZWJTb2NrZXQKICAgIGNvbm5lY3RXZWJTb2NrZXQoKSB7CiAgICAgIC8vIOWIm+W7ulNvY2tldC5JT+i/nuaOpQogICAgICBjb25zdCBzb2NrZXRVcmwgPSBgJHt3aW5kb3cubG9jYXRpb24ucHJvdG9jb2x9Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fWA7CiAgICAgIHRoaXMuc29ja2V0ID0gaW8oc29ja2V0VXJsKTsKICAgICAgCiAgICAgIC8vIOebkeWQrOaXpeW/l+abtOaWsOS6i+S7tgogICAgICB0aGlzLnNvY2tldC5vbihgdGFza19sb2dfdXBkYXRlXyR7dGhpcy5pZH1gLCBkYXRhID0+IHsKICAgICAgICBpZiAoZGF0YS5uZXdfY29udGVudCkgewogICAgICAgICAgdGhpcy5sb2dDb250ZW50ICs9IGRhdGEubmV3X2NvbnRlbnQ7CiAgICAgICAgICAKICAgICAgICAgIC8vIOiHquWKqOa7muWKqOWIsOW6lemDqAogICAgICAgICAgaWYgKHRoaXMuYXV0b1Njcm9sbCkgewogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g5aaC5p6c5Lu75Yqh5a6M5oiQ77yM5Yi35paw5omn6KGM54q25oCBCiAgICAgICAgaWYgKGRhdGEuY29tcGxldGUpIHsKICAgICAgICAgIHRoaXMucmVmcmVzaEV4ZWN1dGlvbigpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIAogICAgICAvLyDnm5HlkKzku7vliqHlrozmiJDkuovku7YKICAgICAgdGhpcy5zb2NrZXQub24oYHRhc2tfY29tcGxldGVfJHt0aGlzLmlkfWAsIGRhdGEgPT4gewogICAgICAgIC8vIOabtOaWsOaJp+ihjOeKtuaAgQogICAgICAgIHRoaXMuZXhlY3V0aW9uLnN0YXR1cyA9IGRhdGEuc3RhdHVzOwogICAgICAgIHRoaXMuZXhlY3V0aW9uLnJlc3VsdCA9IGRhdGEucmVzdWx0OwogICAgICAgIHRoaXMuZXhlY3V0aW9uLmVuZF90aW1lID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpOwogICAgICAgIAogICAgICAgIC8vIOaYvuekuumAmuefpQogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogJ+S7u+WKoeaJp+ihjOWujOaIkCcsCiAgICAgICAgICBtZXNzYWdlOiBg5Lu75Yqh5omn6KGM57uT5p6cOiAke2RhdGEucmVzdWx0IHx8ICfmnKrnn6UnfWAsCiAgICAgICAgICB0eXBlOiBkYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnID8gJ3N1Y2Nlc3MnIDogJ3dhcm5pbmcnLAogICAgICAgICAgZHVyYXRpb246IDUwMDAKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgCiAgICAvLyDmu5rliqjliLDml6Xlv5flupXpg6gKICAgIHNjcm9sbFRvQm90dG9tKCkgewogICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLiRyZWZzLmxvZ0NvbnRhaW5lcjsKICAgICAgaWYgKGNvbnRhaW5lcikgewogICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0OwogICAgICB9CiAgICB9LAogICAgCiAgICAvLyDov5Tlm57kuIrkuIDpobUKICAgIGdvQmFjaygpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmZyb20gPT09ICdsaXN0JykgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvc3lzdGVtL3Rhc2stbWFuYWdlcicpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvc3lzdGVtL3Rhc2stZGV0YWlsLyR7dGhpcy5leGVjdXRpb24udGFza19pZH1gKTsKICAgICAgfQogICAgfSwKICAgIAogICAgLy8g5qC85byP5YyW5pel5pyfCiAgICBmb3JtYXREYXRlKGRhdGVTdHJpbmcpIHsKICAgICAgaWYgKCFkYXRlU3RyaW5nKSByZXR1cm4gJyc7CiAgICAgIAogICAgICAvLyDliJvlu7rml6XmnJ/lr7nosaEKICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpOwogICAgICAKICAgICAgLy8g6I635Y+WVVRD5pe26Ze05bm25re75YqgOOWwj+aXtu+8iOS4nOWFq+WMuu+8iQogICAgICBjb25zdCB1dGNUaW1lID0gZGF0ZS5nZXRUaW1lKCk7CiAgICAgIGNvbnN0IGJlaWppbmdUaW1lID0gbmV3IERhdGUodXRjVGltZSArIDggKiA2MCAqIDYwICogMTAwMCk7CiAgICAgIAogICAgICAvLyDmoLzlvI/ljJbkuLrmnKzlnLDml7bpl7TlrZfnrKbkuLIKICAgICAgcmV0dXJuIGJlaWppbmdUaW1lLnRvTG9jYWxlU3RyaW5nKCd6aC1DTicsIHsKICAgICAgICB5ZWFyOiAnbnVtZXJpYycsCiAgICAgICAgbW9udGg6ICcyLWRpZ2l0JywKICAgICAgICBkYXk6ICcyLWRpZ2l0JywKICAgICAgICBob3VyOiAnMi1kaWdpdCcsCiAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsCiAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCcsCiAgICAgICAgaG91cjEyOiBmYWxzZQogICAgICB9KTsKICAgIH0sCiAgICAKICAgIC8vIOiOt+WPluS7u+WKoeexu+Wei+agh+etvgogICAgZ2V0VGFza1R5cGVMYWJlbCh0eXBlKSB7CiAgICAgIGNvbnN0IHR5cGVzID0gewogICAgICAgICdqZW5raW5zJzogJ0plbmtpbnPku7vliqEnLAogICAgICAgICdzY3JpcHQnOiAn6ISa5pys5Lu75YqhJywKICAgICAgICAnY29tbWFuZCc6ICflkb3ku6Tku7vliqEnCiAgICAgIH07CiAgICAgIHJldHVybiB0eXBlc1t0eXBlXSB8fCB0eXBlOwogICAgfSwKICAgIAogICAgLy8g6I635Y+W54q25oCB5qCH562+CiAgICBnZXRTdGF0dXNMYWJlbChzdGF0dXMpIHsKICAgICAgY29uc3Qgc3RhdHVzZXMgPSB7CiAgICAgICAgJ3BlbmRpbmcnOiAn5b6F5omn6KGMJywKICAgICAgICAncnVubmluZyc6ICfmiafooYzkuK0nLAogICAgICAgICdzdWNjZXNzJzogJ+aIkOWKnycsCiAgICAgICAgJ2ZhaWxlZCc6ICflpLHotKUnLAogICAgICAgICd0ZXJtaW5hdGVkJzogJ+W3sue7iOatoicKICAgICAgfTsKICAgICAgcmV0dXJuIHN0YXR1c2VzW3N0YXR1c10gfHwgc3RhdHVzOwogICAgfSwKICAgIAogICAgLy8g6I635Y+W54q25oCB5qCH562+5qC35byPCiAgICBnZXRTdGF0dXNUeXBlKHN0YXR1cykgewogICAgICBjb25zdCB0eXBlcyA9IHsKICAgICAgICAncGVuZGluZyc6ICdpbmZvJywKICAgICAgICAncnVubmluZyc6ICdwcmltYXJ5JywKICAgICAgICAnc3VjY2Vzcyc6ICdzdWNjZXNzJywKICAgICAgICAnZmFpbGVkJzogJ2RhbmdlcicsCiAgICAgICAgJ3Rlcm1pbmF0ZWQnOiAnd2FybmluZycKICAgICAgfTsKICAgICAgcmV0dXJuIHR5cGVzW3N0YXR1c10gfHwgJyc7CiAgICB9LAoKICAgIC8vIOagvOW8j+WMlkplbmtpbnPlj4LmlbDkuLrooajmoLzmlbDmja4KICAgIGZvcm1hdEplbmtpbnNQYXJhbXMocGFyYW1zKSB7CiAgICAgIGlmICghcGFyYW1zKSByZXR1cm4gW107CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcChrZXkgPT4gKHsKICAgICAgICBuYW1lOiBrZXksCiAgICAgICAgdmFsdWU6IHBhcmFtc1trZXldCiAgICAgIH0pKTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["TaskExecution.vue"],"names":[],"mappings":";AAgHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TaskExecution.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"task-execution\">\n    <div class=\"page-header\">\n      <div class=\"header-left\">\n        <h2 class=\"page-title\">任务执行详情</h2>\n        <el-tag :type=\"getStatusType(execution.status)\" class=\"status-tag\">\n          {{ getStatusLabel(execution.status) }}\n        </el-tag>\n      </div>\n      <div class=\"header-actions\">\n        <el-button type=\"primary\" icon=\"el-icon-back\" @click=\"goBack\">\n          返回\n        </el-button>\n        <el-button \n          type=\"danger\" \n          icon=\"el-icon-close\" \n          @click=\"terminateExecution\"\n          v-if=\"canTerminate\">\n          终止执行\n        </el-button>\n      </div>\n    </div>\n\n    <el-row :gutter=\"20\">\n      <el-col :span=\"8\">\n        <el-card class=\"info-card\">\n          <div slot=\"header\">\n            <span>执行信息</span>\n          </div>\n          \n          <el-descriptions direction=\"vertical\" :column=\"1\" border>\n            <el-descriptions-item label=\"执行ID\">{{ execution.id }}</el-descriptions-item>\n            <el-descriptions-item label=\"任务名称\">\n              <router-link :to=\"`/system/task-detail/${execution.task_id}`\">\n                {{ task.name }}\n              </router-link>\n            </el-descriptions-item>\n            <el-descriptions-item label=\"任务类型\">{{ getTaskTypeLabel(task.task_type) }}</el-descriptions-item>\n            <el-descriptions-item label=\"状态\">\n              <el-tag :type=\"getStatusType(execution.status)\">\n                {{ getStatusLabel(execution.status) }}\n              </el-tag>\n            </el-descriptions-item>\n            <el-descriptions-item label=\"开始时间\">{{ formatDate(execution.start_time) }}</el-descriptions-item>\n            <el-descriptions-item label=\"结束时间\">\n              {{ execution.end_time ? formatDate(execution.end_time) : '进行中' }}\n            </el-descriptions-item>\n            <el-descriptions-item label=\"执行用户\">{{ executionUser }}</el-descriptions-item>\n            <el-descriptions-item label=\"执行结果\">{{ execution.result || '无结果' }}</el-descriptions-item>\n          </el-descriptions>\n          \n          <!-- Jenkins特有信息 -->\n          <template v-if=\"task.task_type === 'jenkins' && execution.jenkins_build_number\">\n            <div class=\"section-divider\">Jenkins构建信息</div>\n            <el-descriptions direction=\"vertical\" :column=\"1\" border>\n              <el-descriptions-item label=\"构建号\">{{ execution.jenkins_build_number }}</el-descriptions-item>\n              <el-descriptions-item label=\"构建URL\">\n                <a :href=\"execution.jenkins_build_url\" target=\"_blank\">{{ execution.jenkins_build_url }}</a>\n              </el-descriptions-item>\n              <el-descriptions-item label=\"执行参数\" v-if=\"Object.keys(execution.jenkins_parameters || {}).length > 0\">\n                <div class=\"params-table\">\n                  <el-table :data=\"formatJenkinsParams(execution.jenkins_parameters)\" border size=\"small\">\n                    <el-table-column prop=\"name\" label=\"参数名\" width=\"180\"></el-table-column>\n                    <el-table-column prop=\"value\" label=\"参数值\"></el-table-column>\n                  </el-table>\n                </div>\n              </el-descriptions-item>\n            </el-descriptions>\n          </template>\n        </el-card>\n      </el-col>\n      \n      <el-col :span=\"16\">\n        <el-card class=\"log-card\">\n          <div slot=\"header\" class=\"log-header\">\n            <span>执行日志</span>\n            <div class=\"log-actions\">\n              <el-switch\n                v-model=\"autoScroll\"\n                active-text=\"自动滚动\"\n                inactive-text=\"手动滚动\"\n              ></el-switch>\n              <el-button \n                size=\"mini\" \n                type=\"text\" \n                icon=\"el-icon-refresh\" \n                @click=\"refreshLog\"\n                :loading=\"loadingLog\">\n                刷新\n              </el-button>\n            </div>\n          </div>\n          \n          <div \n            class=\"log-content\" \n            ref=\"logContainer\"\n            v-loading=\"loadingLog\"\n            element-loading-text=\"加载日志中...\"\n          >\n            <pre v-if=\"logContent\">{{ logContent }}</pre>\n            <div v-else class=\"no-log\">\n              <i class=\"el-icon-document\"></i>\n              <span>暂无日志内容</span>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport io from 'socket.io-client';\n\nexport default {\n  name: 'TaskExecution',\n  props: {\n    id: {\n      type: [Number, String],\n      required: true\n    }\n  },\n  data() {\n    return {\n      execution: {},\n      task: {},\n      logContent: '',\n      loadingExecution: false,\n      loadingLog: false,\n      autoScroll: true,\n      socket: null,\n      executionUser: '',\n      refreshInterval: null\n    };\n  },\n  computed: {\n    canTerminate() {\n      return ['pending', 'running'].includes(this.execution.status);\n    },\n    currentUser() {\n      return this.$store.state.user || {};\n    }\n  },\n  created() {\n    this.loadExecutionDetails();\n  },\n  mounted() {\n    // 设置自动刷新\n    this.refreshInterval = setInterval(() => {\n      if (this.canTerminate) {\n        this.refreshExecution();\n      }\n    }, 5000);\n    \n    // 连接WebSocket\n    this.connectWebSocket();\n  },\n  beforeDestroy() {\n    // 清除自动刷新\n    if (this.refreshInterval) {\n      clearInterval(this.refreshInterval);\n    }\n    \n    // 断开WebSocket连接\n    if (this.socket) {\n      this.socket.disconnect();\n    }\n  },\n  methods: {\n    // 加载执行详情\n    async loadExecutionDetails() {\n      this.loadingExecution = true;\n      try {\n        // 获取执行记录\n        const response = await axios.get(`/api/executions/${this.id}`);\n        this.execution = response.data;\n        \n        // 获取任务详情\n        const taskResponse = await axios.get(`/api/tasks/${this.execution.task_id}`);\n        this.task = taskResponse.data;\n        \n        // 获取执行用户信息\n        if (this.execution.user_id) {\n          try {\n            const userResponse = await axios.get(`/api/users/${this.execution.user_id}`);\n            this.executionUser = userResponse.data.username;\n          } catch (error) {\n            console.error('获取用户信息失败:', error);\n            // 直接显示用户ID，不添加前缀\n            this.executionUser = String(this.execution.user_id);\n          }\n        }\n        \n        // 加载日志\n        this.loadLog();\n        \n        this.loadingExecution = false;\n      } catch (error) {\n        this.$message.error('加载执行详情失败: ' + (error.response && error.response.data && error.response.data.error || error.message));\n        this.loadingExecution = false;\n        // 返回任务详情页\n        this.$router.push(`/system/task-detail/${this.execution.task_id}`);\n      }\n    },\n    \n    // 刷新执行状态\n    async refreshExecution() {\n      try {\n        const response = await axios.get(`/api/executions/${this.id}`);\n        this.execution = response.data;\n        \n        // 如果任务已经完成，清除自动刷新\n        if (!this.canTerminate && this.refreshInterval) {\n          clearInterval(this.refreshInterval);\n        }\n      } catch (error) {\n        console.error('刷新执行状态失败:', error);\n      }\n    },\n    \n    // 加载日志\n    async loadLog() {\n      this.loadingLog = true;\n      try {\n        const response = await axios.get(`/api/executions/${this.id}/log`);\n        this.logContent = response.data.log_content || '';\n        \n        // 自动滚动到底部\n        if (this.autoScroll) {\n          this.$nextTick(() => {\n            this.scrollToBottom();\n          });\n        }\n        \n        this.loadingLog = false;\n      } catch (error) {\n        this.$message.error('加载日志失败: ' + (error.response && error.response.data && error.response.data.error || error.message));\n        this.loadingLog = false;\n      }\n    },\n    \n    // 刷新日志\n    refreshLog() {\n      this.loadLog();\n    },\n    \n    // 终止执行\n    async terminateExecution() {\n      try {\n        // 显示确认对话框\n        await this.$confirm(\n          '确定要终止此任务执行吗？如果是Jenkins任务，可能需要一些时间才能完全停止。',\n          '终止任务',\n          {\n            confirmButtonText: '确定终止',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }\n        );\n        \n        // 用户确认后，发送终止请求\n        const response = await axios.post(`/api/executions/${this.id}/terminate`);\n        \n        // 显示响应消息\n        this.$message.success(response.data.message || '任务已终止');\n        \n        // 刷新执行状态\n        this.refreshExecution();\n        \n        // 如果有警告信息，显示通知\n        if (response.data.message && response.data.message.includes('Jenkins构建可能仍在运行')) {\n          this.$notify({\n            title: '警告',\n            message: 'Jenkins构建可能无法完全终止，系统已尝试所有可能的终止方法。',\n            type: 'warning',\n            duration: 10000\n          });\n        }\n      } catch (error) {\n        // 如果用户取消了确认对话框，不显示错误\n        if (error === 'cancel' || error.toString().includes('cancel')) {\n          return;\n        }\n        \n        // 显示错误信息\n        this.$message.error('终止任务失败: ' + (error.response && error.response.data && error.response.data.error || error.message));\n        \n        // 如果是Jenkins任务，显示额外提示\n        if (this.task.task_type === 'jenkins') {\n          this.$notify({\n            title: '提示',\n            message: '您可以尝试直接在Jenkins界面中终止此构建。',\n            type: 'info',\n            duration: 10000\n          });\n        }\n      }\n    },\n    \n    // 连接WebSocket\n    connectWebSocket() {\n      // 创建Socket.IO连接\n      const socketUrl = `${window.location.protocol}//${window.location.host}`;\n      this.socket = io(socketUrl);\n      \n      // 监听日志更新事件\n      this.socket.on(`task_log_update_${this.id}`, data => {\n        if (data.new_content) {\n          this.logContent += data.new_content;\n          \n          // 自动滚动到底部\n          if (this.autoScroll) {\n            this.$nextTick(() => {\n              this.scrollToBottom();\n            });\n          }\n        }\n        \n        // 如果任务完成，刷新执行状态\n        if (data.complete) {\n          this.refreshExecution();\n        }\n      });\n      \n      // 监听任务完成事件\n      this.socket.on(`task_complete_${this.id}`, data => {\n        // 更新执行状态\n        this.execution.status = data.status;\n        this.execution.result = data.result;\n        this.execution.end_time = new Date().toISOString();\n        \n        // 显示通知\n        this.$notify({\n          title: '任务执行完成',\n          message: `任务执行结果: ${data.result || '未知'}`,\n          type: data.status === 'success' ? 'success' : 'warning',\n          duration: 5000\n        });\n      });\n    },\n    \n    // 滚动到日志底部\n    scrollToBottom() {\n      const container = this.$refs.logContainer;\n      if (container) {\n        container.scrollTop = container.scrollHeight;\n      }\n    },\n    \n    // 返回上一页\n    goBack() {\n      if (this.$route.query.from === 'list') {\n        this.$router.push('/system/task-manager');\n      } else {\n        this.$router.push(`/system/task-detail/${this.execution.task_id}`);\n      }\n    },\n    \n    // 格式化日期\n    formatDate(dateString) {\n      if (!dateString) return '';\n      \n      // 创建日期对象\n      const date = new Date(dateString);\n      \n      // 获取UTC时间并添加8小时（东八区）\n      const utcTime = date.getTime();\n      const beijingTime = new Date(utcTime + 8 * 60 * 60 * 1000);\n      \n      // 格式化为本地时间字符串\n      return beijingTime.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit',\n        hour12: false\n      });\n    },\n    \n    // 获取任务类型标签\n    getTaskTypeLabel(type) {\n      const types = {\n        'jenkins': 'Jenkins任务',\n        'script': '脚本任务',\n        'command': '命令任务'\n      };\n      return types[type] || type;\n    },\n    \n    // 获取状态标签\n    getStatusLabel(status) {\n      const statuses = {\n        'pending': '待执行',\n        'running': '执行中',\n        'success': '成功',\n        'failed': '失败',\n        'terminated': '已终止'\n      };\n      return statuses[status] || status;\n    },\n    \n    // 获取状态标签样式\n    getStatusType(status) {\n      const types = {\n        'pending': 'info',\n        'running': 'primary',\n        'success': 'success',\n        'failed': 'danger',\n        'terminated': 'warning'\n      };\n      return types[status] || '';\n    },\n\n    // 格式化Jenkins参数为表格数据\n    formatJenkinsParams(params) {\n      if (!params) return [];\n      return Object.keys(params).map(key => ({\n        name: key,\n        value: params[key]\n      }));\n    }\n  }\n};\n</script>\n\n<style scoped>\n.task-execution {\n  padding: 20px;\n}\n\n.page-header {\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n}\n\n.page-title {\n  font-size: 24px;\n  margin: 0;\n  margin-right: 15px;\n}\n\n.status-tag {\n  margin-right: 10px;\n}\n\n.info-card,\n.log-card {\n  margin-bottom: 20px;\n}\n\n.section-divider {\n  font-size: 16px;\n  font-weight: bold;\n  margin: 20px 0 10px 0;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #EBEEF5;\n}\n\n.log-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.log-actions {\n  display: flex;\n  align-items: center;\n}\n\n.log-actions .el-switch {\n  margin-right: 15px;\n}\n\n.log-content {\n  height: 600px;\n  overflow-y: auto;\n  background-color: #1e1e1e;\n  color: #f0f0f0;\n  padding: 10px;\n  font-family: monospace;\n  border-radius: 4px;\n}\n\n.log-content pre {\n  margin: 0;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.no-log {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #909399;\n}\n\n.no-log i {\n  font-size: 48px;\n  margin-bottom: 10px;\n}\n\n.params-table {\n  max-width: 100%;\n}\n\n.params-table .el-table {\n  margin-bottom: 0;\n}\n</style> "]}]}